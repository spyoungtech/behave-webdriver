sudo: false
language: python
python:
  - "2.7"
  - "3.5"
  - "3.6"
  - "nightly"

addons: # get google-chrome-stable
  chrome: stable
install: # Install ChromeDriver.
  - wget -N http://chromedriver.storage.googleapis.com/2.33/chromedriver_linux64.zip -P ./
  - unzip ./chromedriver_linux64.zip -d ./
  - rm ./chromedriver_linux64.zip
  - chmod +x ./chromedriver
  - pip install -r ./requirements.txt
  - pip install coveralls

script:
  - cd tests/demo-app
  - python ./runserver.py > /dev/null 2>&1 &
  - cd ../..
  - coverage run -m behave tests/features --format=progress2


after_success:
  - coveralls